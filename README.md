An upgrade was published as 
https://doi.org/10.1140/epjp/s13360-020-01010-6
and
https://doi.org/10.20944/preprints201904.0076.v10

Dynamical equations for the period vectors of a periodic system (crystal) under constant external stress are derived in the paper
Can. J. Phys. Vol.93 No.9: 974–978 (2015)
http://dx.doi.org/10.1139/cjp-2014-0518
http://arxiv.org/abs/cond-mat/0209372v16 .
The explicit starting point is Newton’s second law applied to halves of the system. Later statistics over indistinguishable translated states and forces associated with transport of momentum are applied to the resulting dynamical equations. In the final expressions, the period vectors are driven by the imbalance between internal and external stresses. The internal stress is shown to have both full interaction and kinetic-energy terms.

Here are the routines to calculate the accelerations of the period vectors based on the above dynamical equatioins.

